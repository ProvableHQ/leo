<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Performs monomorphization of const generic functions within a `ProgramScope`."><title>leo_passes::monomorphization - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="leo_passes" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../leo_passes/index.html">leo_<wbr>passes</a><span class="version">2.7.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module monomorphization</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate leo_<wbr>passes</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">leo_passes</a></div><h1>Module <span>monomorphization</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/leo_passes/monomorphization/mod.rs.html#17-94">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Performs monomorphization of const generic functions within a <code>ProgramScope</code>.</p>
<p>This pass identifies all <code>inline</code> functions that take const generic parameters (e.g., <code>foo::[N: u32]()</code>)
and replaces each unique instantiation (e.g., <code>foo::[3]()</code>, <code>foo::[7]()</code>) with a concrete version of the function
where the const parameter is replaced with its actual value. These concrete instances are generated, added to the
reconstructed function list, and inserted into the final program scope.</p>
<p>If a function has been monomorphized and is no longer referenced by any unresolved calls,
it will be removed from the reconstructed functions and pruned from the call graph.</p>
<h4 id="example"><a class="doc-anchor" href="#example">Â§</a>Example</h4><div class="example-wrap"><pre class="language-leo"><code>transition main(x: u32, y: u32) -&gt; u32 {
    return foo::[3u32]() + foo::[7u32]();
}

inline foo::[N: u32]() -&gt; u32 {
    return N;
}</code></pre></div>
<p>In the example above:</p>
<ul>
<li><code>foo::[3u32]()</code> and <code>foo::[7u32]()</code> are two distinct instantiations of <code>foo::[N]</code>.</li>
<li>This pass will generate two monomorphized versions of <code>foo</code>, one for each unique const argument <code>M</code> and <code>P</code>.</li>
<li>These are inserted into the output <code>ProgramScope</code> as separate functions with unique names.</li>
<li>If <code>foo::[N]</code> is no longer referenced in any calls, the original generic function is removed.</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="expression/index.html" title="mod leo_passes::monomorphization::expression">expression</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="program/index.html" title="mod leo_passes::monomorphization::program">program</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="visitor/index.html" title="mod leo_passes::monomorphization::visitor">visitor</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Monomorphization.html" title="struct leo_passes::monomorphization::Monomorphization">Monomorphization</a></dt><dt><a class="struct" href="struct.MonomorphizationOutput.html" title="struct leo_passes::monomorphization::MonomorphizationOutput">Monomorphization<wbr>Output</a></dt></dl></section></div></main></body></html>
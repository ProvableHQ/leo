namespace = "Compile"
expectation = "Pass"
outputs = [[{ compile = [
    { initial_symbol_table = "b37c330747563dec1083a4035b7cd8f4d527f2f939b0ce55797271440d5e2bff", type_checked_symbol_table = "92447bd8811a8c2052ce62301603369d47defc2765390893eb509872bd0630e6", unrolled_symbol_table = "92447bd8811a8c2052ce62301603369d47defc2765390893eb509872bd0630e6", initial_ast = "f2aaf1996d382c7333a733e4be37ea93c27a3ec58960af996b9f8645ebd27dcf", unrolled_ast = "f2aaf1996d382c7333a733e4be37ea93c27a3ec58960af996b9f8645ebd27dcf", ssa_ast = "16bbfc985f7b340af00f48be7c87cce9fa9deec2517f8e1e51d0a9b90a54fd52", flattened_ast = "327b3263d448da3866ca22b11e845307bea00b77a5854b3c498b3dab8ce31fd2", destructured_ast = "7b13016d5303ea0ba1a9808c08ae7ffa7bd9433cc1c92bd981407291fca91e5d", inlined_ast = "c45092530d55cad8153a244b85c022808dd2b11d4125d2d7f8ac7c83028fd9cd", dce_ast = "c45092530d55cad8153a244b85c022808dd2b11d4125d2d7f8ac7c83028fd9cd", bytecode = """
program registry.aleo;

mapping users:
    key as address.public;
    value as boolean.public;

function register:
    async register self.caller into r0;
    output r0 as registry.aleo/register.future;

finalize register:
    input r0 as address.public;
    set true into users[r0];

function unregister:
    async unregister self.caller into r0;
    output r0 as registry.aleo/unregister.future;

finalize unregister:
    input r0 as address.public;
    set false into users[r0];
""", errors = "", warnings = "" },
    { initial_symbol_table = "ed3c14438d279303e7efd7f049f8808b647d45b300fbc779f9b7f02b5da0b00f", type_checked_symbol_table = "6ca94eb6b4e442121ac2a67d6f885874fc79bcc319fc445e4fe64bce70787305", unrolled_symbol_table = "6ca94eb6b4e442121ac2a67d6f885874fc79bcc319fc445e4fe64bce70787305", initial_ast = "c6961c7b70fb87a56e44c31d0dc98a21924f0ba72b5cebb9badd6836b5eab56e", unrolled_ast = "40f00aa24c4981d9f54633125ee4e7fb323e15dc4686bb2aec54f9195c5af28f", ssa_ast = "cf58ef07b395655efb8a3b6e2f376c5295e3718091b34128530bcb27e8ea0f42", flattened_ast = "23b1e3eb3e2f5d813322829acd16d8d57f5bc57ba8264b3c00269ef1d24f6cbe", destructured_ast = "bf8920a358ffe1ded495d69c109404f8b110f601924aac332e741e0f9d4e0391", inlined_ast = "f3a8e1bd8096d7e67466bcf83d4f20785b1ac152728e6666a92888d6acb21391", dce_ast = "f3a8e1bd8096d7e67466bcf83d4f20785b1ac152728e6666a92888d6acb21391", bytecode = """
import registry.aleo;
program relay.aleo;

record message:
    owner as address.private;
    data as u8.private;

mapping users:
    key as address.public;
    value as boolean.public;

function send:
    input r0 as address.private;
    input r1 as u8.private;
    cast r0 r1 into r2 as message.record;
    async send r0 into r3;
    output r2 as message.record;
    output r3 as relay.aleo/send.future;

finalize send:
    input r0 as address.public;
    get registry.aleo/users[r0] into r1;
    assert.eq r1 true;

function send_without_check:
    input r0 as address.private;
    input r1 as u8.private;
    cast r0 r1 into r2 as message.record;
    async send_without_check r0 into r3;
    output r2 as message.record;
    output r3 as relay.aleo/send_without_check.future;

finalize send_without_check:
    input r0 as address.public;
    get.or_use registry.aleo/users[r0] true into r1;
    assert.eq r1 true;
""", errors = "", warnings = "" },
] }]]

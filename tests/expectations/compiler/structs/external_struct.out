namespace = "Compile"
expectation = "Pass"
outputs = [[{ compile = [
    { initial_ast = "80d537920cacd874248c4a04ad1c7f13fd9150a77c5f358786816ed23f7f1469", unrolled_ast = "80d537920cacd874248c4a04ad1c7f13fd9150a77c5f358786816ed23f7f1469", ssa_ast = "b3f0bd102782a066cacad4163ea53d65e601d0e8afc78086f79145d8ca904f09", flattened_ast = "e30407914b2ecc1f5d5b718cb31f367eee60318cba8f573edbe9c129b1e94eaf", destructured_ast = "36d8bb1b396471a37d37d7463f54c69558ebbc63b350cab433441592aaa01536", inlined_ast = "36d8bb1b396471a37d37d7463f54c69558ebbc63b350cab433441592aaa01536", dce_ast = "36d8bb1b396471a37d37d7463f54c69558ebbc63b350cab433441592aaa01536", bytecode = """
program child.aleo;

record Boo:
    owner as address.private;
    val as u32.private;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

function create:
    cast 1u32 2u32 into r0 as Two;
    cast 3u32 4u32 into r1 as Two;
    cast  r0 r1 into r2 as [Two; 2u32];
    cast r2 into r3 as One;
    cast r3 into r4 as Baz;
    cast 5u32 6u32 into r5 as Two;
    cast 7u32 8u32 into r6 as Two;
    cast  r5 r6 into r7 as [Two; 2u32];
    cast r7 into r8 as One;
    cast r8 into r9 as Baz;
    cast  r4 r9 into r10 as [Baz; 2u32];
    cast r10 into r11 as Bar;
    cast  r11 into r12 as [Bar; 1u32];
    cast r12 into r13 as Foo;
    cast self.caller 10u32 into r14 as Boo.record;
    output r13 as Foo.private;
    output r14 as Boo.record;
""", errors = "", warnings = "" },
    { initial_ast = "cac137b099c8c5c6e6c0910cdee74c79a09c6e1444c4ed9e3c917344c0f8a2ff", unrolled_ast = "cab6075aeb522b6c17c1fbfdcdca2ab7f40bcc57bc7b05603524e7457c0f4407", ssa_ast = "3447fd058ed9773f734973e6a6d241da6ed3d568ac92d5e0b32af7f7ec82aa18", flattened_ast = "933f4177c077528a047e0d3e1ce2a52173d90289d70afb563f49642be887c5d1", destructured_ast = "3555bc1cba14ac274b9dd6165ecf7e457b8ede85970927931e3aa58d13f62eb5", inlined_ast = "3555bc1cba14ac274b9dd6165ecf7e457b8ede85970927931e3aa58d13f62eb5", dce_ast = "bb20afeaad484637fa3dfa50769811e148174e693b9a200cdd3dc81af75dc375", bytecode = """
import child.aleo;
program parent.aleo;

struct Woo:
    a as u32;
    b as u32;

record BooHoo:
    owner as address.private;
    val as u32.private;
    woo as Woo.private;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

function create_wrapper:
    call child.aleo/create into r0 r1;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;

function create_another_wrapper:
    call child.aleo/create into r0 r1;
    cast 1u32 2u32 into r2 as Woo;
    cast self.caller 10u32 r2 into r3 as BooHoo.record;
    cast 3u32 4u32 into r4 as Woo;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;
    output r3 as BooHoo.record;
    output r4 as Woo.private;
""", errors = "", warnings = "" },
    { initial_ast = "26ba761573d4baebc673937c8822ded5636a4f4b6858d54dc6ae90d7f44a860d", unrolled_ast = "b6ad684cddb6a356d83bc479881e20f7a805faa2626604ed0130641e73897c12", ssa_ast = "8c700705638d36021d8608702a7aaf95f570f61d9287aa68c8275fc3b9c50517", flattened_ast = "0ad11b48c5d080a22e5b2a7b668509383fcaa324171001f1401074c3f97650a8", destructured_ast = "cce21f015fef8525547efb73131d36baa836c30dae5a2ab243e5ad2e4a0c27d5", inlined_ast = "cce21f015fef8525547efb73131d36baa836c30dae5a2ab243e5ad2e4a0c27d5", dce_ast = "f1787d6fed10b5fde88a7f945e86780f95e8b90d2e4d00d0083f548720333770", bytecode = """
import child.aleo;
import parent.aleo;
program grandparent.aleo;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

struct Woo:
    a as u32;
    b as u32;

function main:
    input r0 as u32.private;
    add 1u32 r0 into r1;
    output r1 as u32.private;

function omega_wrapper:
    call parent.aleo/create_another_wrapper into r0 r1 r2 r3;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;
    output r2 as parent.aleo/BooHoo.record;
    output r3 as Woo.private;
""", errors = "", warnings = "" },
] }]]

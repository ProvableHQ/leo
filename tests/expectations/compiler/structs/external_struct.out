namespace = "Compile"
expectation = "Pass"
outputs = [[{ compile = [
    { initial_ast = "80d537920cacd874248c4a04ad1c7f13fd9150a77c5f358786816ed23f7f1469", unrolled_ast = "80d537920cacd874248c4a04ad1c7f13fd9150a77c5f358786816ed23f7f1469", ssa_ast = "67b51b20c2e292a780020ab8605917f45108cf5348bf7221230224785a2ff9f5", flattened_ast = "467e707f8394ba66ac12c4e6df6f7911fd2f04f0f297851fb46992b101f6f042", destructured_ast = "aaf6d7e60b712e6703d9d53b770d5072c65eab54091d1676d6dfcb6ef5fae63e", inlined_ast = "aaf6d7e60b712e6703d9d53b770d5072c65eab54091d1676d6dfcb6ef5fae63e", dce_ast = "aaf6d7e60b712e6703d9d53b770d5072c65eab54091d1676d6dfcb6ef5fae63e", bytecode = """
program child.aleo;

record Boo:
    owner as address.private;
    val as u32.private;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

function create:
    cast 1u32 2u32 into r0 as Two;
    cast 3u32 4u32 into r1 as Two;
    cast  r0 r1 into r2 as [Two; 2u32];
    cast r2 into r3 as One;
    cast r3 into r4 as Baz;
    cast 5u32 6u32 into r5 as Two;
    cast 7u32 8u32 into r6 as Two;
    cast  r5 r6 into r7 as [Two; 2u32];
    cast r7 into r8 as One;
    cast r8 into r9 as Baz;
    cast  r4 r9 into r10 as [Baz; 2u32];
    cast r10 into r11 as Bar;
    cast  r11 into r12 as [Bar; 1u32];
    cast r12 into r13 as Foo;
    cast self.caller 10u32 into r14 as Boo.record;
    output r13 as Foo.private;
    output r14 as Boo.record;
""", errors = "", warnings = "" },
    { initial_ast = "6f336cf5b1dafd7cada6e05cf192fc1ea445eb7e0e4c363e61a814fae25b7461", unrolled_ast = "7d0e93818e46dc27ec5cd5c79d71f2ed3f88ec714075ddd364894a452bd73635", ssa_ast = "e1d7cf6ccc11755eed857785d7e09ff4f4daa21b6cc860bd8ac8449c270048f9", flattened_ast = "6150e6f3b7e01ec405758968da9ee8cf63bc8ec0202f35e9ebd7e88868ba69ae", destructured_ast = "931a89226d5460ca106d8b8d1956dca4907a2275fce1331424aba284f1988bfa", inlined_ast = "931a89226d5460ca106d8b8d1956dca4907a2275fce1331424aba284f1988bfa", dce_ast = "ffe83039c2f62f2c717f17967891e8098b476749fcf3e08d93420f6ae21d81ac", bytecode = """
import child.aleo;
program parent.aleo;

struct Woo:
    a as u32;
    b as u32;

record BooHoo:
    owner as address.private;
    val as u32.private;
    woo as Woo.private;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

function create_wrapper:
    call child.aleo/create into r0 r1;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;

function create_another_wrapper:
    call child.aleo/create into r0 r1;
    cast 1u32 2u32 into r2 as Woo;
    cast self.caller 10u32 r2 into r3 as BooHoo.record;
    cast 3u32 4u32 into r4 as Woo;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;
    output r3 as BooHoo.record;
    output r4 as Woo.private;
""", errors = "", warnings = "" },
    { initial_ast = "8473d0584e78127a612fccd0c20273d13283bb10bf900bf0fe68963b04ff9d0e", unrolled_ast = "d597c4a4a9dda80008bd9e333bbf104318e294be627380ca03fd7c141edfdb47", ssa_ast = "13083334a8f117de456a16b687d89c9a17060697b59d352aab435dbcd619aea1", flattened_ast = "8eda0ef907b8d6c00f7539a39c40a3d348338561a4b0d0403176c67e7742dea1", destructured_ast = "f56c7df4ecf4d1dd6e423a238f21adea8d19c70a542c2b179e6ba5ed5d27779b", inlined_ast = "f56c7df4ecf4d1dd6e423a238f21adea8d19c70a542c2b179e6ba5ed5d27779b", dce_ast = "bb1d5083956c44d5b0e0b591f38806a3f0553ea9d23aa0d180ffc87b605a64e6", bytecode = """
import child.aleo;
import parent.aleo;
program grandparent.aleo;

struct Two:
    val1 as u32;
    val2 as u32;

struct One:
    two as [Two; 2u32];

struct Baz:
    one as One;

struct Bar:
    baz as [Baz; 2u32];

struct Foo:
    bar as [Bar; 1u32];

struct Woo:
    a as u32;
    b as u32;

function main:
    input r0 as u32.private;
    add 1u32 r0 into r1;
    output r1 as u32.private;

function omega_wrapper:
    call parent.aleo/create_another_wrapper into r0 r1 r2 r3;
    output r0 as Foo.private;
    output r1 as child.aleo/Boo.record;
    output r2 as parent.aleo/BooHoo.record;
    output r3 as Woo.private;
""", errors = "", warnings = "" },
] }]]

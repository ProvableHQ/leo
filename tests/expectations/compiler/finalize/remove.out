program test.aleo;

mapping balances:
    key as address.public;
    value as u32.public;

function foo:
    async foo self.caller into r0;
    output r0 as test.aleo/foo.future;

finalize foo:
    input r0 as address.public;
    set 1u32 into balances[r0];
    contains balances[r0] into r1;
    assert.eq r1 true;
    remove balances[r0];
    contains balances[r0] into r2;
    not r2 into r3;
    assert.eq r3 true;

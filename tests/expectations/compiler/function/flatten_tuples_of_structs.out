DCE_ENABLED:
program test.aleo;

struct Extra:
    c as u8;

struct Data:
    a as u8;
    b as u8;
    c as Extra;

closure foo:
    input r0 as u8;
    input r1 as u8;
    cast r0 into r2 as Extra;
    cast r0 r1 r2 into r3 as Data;
    is.eq r0 r1 into r4;
    add r0 r1 into r5;
    sub r0 r1 into r6;
    ternary r4 r3.c.c r3.c.c into r7;
    cast r7 into r8 as Extra;
    ternary r4 r3.a r3.a into r9;
    ternary r4 r3.b r3.b into r10;
    cast r9 r10 r8 into r11 as Data;
    ternary r4 r0 r5 into r12;
    ternary r4 r1 r6 into r13;
    output r12 as u8;
    output r13 as u8;
    output r11 as Data;

function bar:
    input r0 as boolean.private;
    input r1 as boolean.private;
    input r2 as u8.private;
    input r3 as u8.private;
    call foo r2 r3 into r4 r5 r6;
    call foo r4 r6.c.c into r7 r8 r9;
    call foo r5 r6.b into r10 r11 r12;
    call foo r6.a r5 into r13 r14 r15;
    ternary r1 r10 r13 into r16;
    ternary r1 r11 r14 into r17;
    ternary r1 r12.c.c r15.c.c into r18;
    cast r18 into r19 as Extra;
    ternary r1 r12.a r15.a into r20;
    ternary r1 r12.b r15.b into r21;
    cast r20 r21 r19 into r22 as Data;
    ternary r0 r7 r16 into r23;
    ternary r0 r8 r17 into r24;
    ternary r0 r9.c.c r22.c.c into r25;
    cast r25 into r26 as Extra;
    ternary r0 r9.a r22.a into r27;
    ternary r0 r9.b r22.b into r28;
    cast r27 r28 r26 into r29 as Data;
    output r23 as u8.private;
    output r24 as u8.private;
    output r29 as Data.private;

DCE_DISABLED:
program test.aleo;

struct Extra:
    c as u8;

struct Data:
    a as u8;
    b as u8;
    c as Extra;

closure foo:
    input r0 as u8;
    input r1 as u8;
    cast r0 into r2 as Extra;
    cast r0 r1 r2 into r3 as Data;
    is.eq r0 r1 into r4;
    add r0 r1 into r5;
    sub r0 r1 into r6;
    ternary r4 r3.c.c r3.c.c into r7;
    cast r7 into r8 as Extra;
    ternary r4 r3.a r3.a into r9;
    ternary r4 r3.b r3.b into r10;
    cast r9 r10 r8 into r11 as Data;
    ternary r4 r0 r5 into r12;
    ternary r4 r1 r6 into r13;
    output r12 as u8;
    output r13 as u8;
    output r11 as Data;

function bar:
    input r0 as boolean.private;
    input r1 as boolean.private;
    input r2 as u8.private;
    input r3 as u8.private;
    call foo r2 r3 into r4 r5 r6;
    call foo r4 r6.c.c into r7 r8 r9;
    not r0 into r10;
    call foo r5 r6.b into r11 r12 r13;
    not r1 into r14;
    call foo r6.a r5 into r15 r16 r17;
    ternary r1 r11 r15 into r18;
    ternary r1 r12 r16 into r19;
    ternary r1 r13.c.c r17.c.c into r20;
    cast r20 into r21 as Extra;
    ternary r1 r13.a r17.a into r22;
    ternary r1 r13.b r17.b into r23;
    cast r22 r23 r21 into r24 as Data;
    ternary r0 r7 r18 into r25;
    ternary r0 r8 r19 into r26;
    ternary r0 r9.c.c r24.c.c into r27;
    cast r27 into r28 as Extra;
    ternary r0 r9.a r24.a into r29;
    ternary r0 r9.b r24.b into r30;
    cast r29 r30 r28 into r31 as Data;
    output r25 as u8.private;
    output r26 as u8.private;
    output r31 as Data.private;

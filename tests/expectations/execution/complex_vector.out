program vector_structs.aleo;

struct Point:
    x as field;
    y as field;

struct Container:
    id as u32;
    points as [Point; 2u32];

struct Optional__EsDmm5O6sv6:
    is_some as boolean;
    val as u32;

struct Optional__6Uxqmb23WYh:
    is_some as boolean;
    val as Point;

struct Optional__Iw7fQz4CKJ0:
    is_some as boolean;
    val as Container;

mapping ids__:
    key as u32.public;
    value as u32.public;

mapping ids__len__:
    key as boolean.public;
    value as u32.public;

mapping points__:
    key as u32.public;
    value as Point.public;

mapping points__len__:
    key as boolean.public;
    value as u32.public;

mapping containers__:
    key as u32.public;
    value as Container.public;

mapping containers__len__:
    key as boolean.public;
    value as u32.public;

function test_vector_primitives_behavior:
    input r0 as u32.private;
    input r1 as u32.private;
    async test_vector_primitives_behavior r0 r1 into r2;
    output r2 as vector_structs.aleo/test_vector_primitives_behavior.future;

finalize test_vector_primitives_behavior:
    input r0 as u32.public;
    input r1 as u32.public;
    set 0u32 into ids__len__[false];
    get.or_use ids__len__[false] 0u32 into r2;
    is.eq r2 0u32 into r3;
    assert.eq r3 true;
    get.or_use ids__len__[false] 0u32 into r4;
    add r4 1u32 into r5;
    set r5 into ids__len__[false];
    set 10u32 into ids__[r4];
    get.or_use ids__len__[false] 0u32 into r6;
    add r6 1u32 into r7;
    set r7 into ids__len__[false];
    set 20u32 into ids__[r6];
    get.or_use ids__len__[false] 0u32 into r8;
    add r8 1u32 into r9;
    set r9 into ids__len__[false];
    set 30u32 into ids__[r8];
    get.or_use ids__len__[false] 0u32 into r10;
    is.eq r10 3u32 into r11;
    assert.eq r11 true;
    get.or_use ids__len__[false] 0u32 into r12;
    lt r0 r12 into r13;
    get.or_use ids__[r0] 0u32 into r14;
    cast true r14 into r15 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r16 as Optional__EsDmm5O6sv6;
    ternary r13 r15.is_some r16.is_some into r17;
    ternary r13 r15.val r16.val into r18;
    cast r17 r18 into r19 as Optional__EsDmm5O6sv6;
    assert.eq r19.is_some true;
    is.eq r19.val 20u32 into r20;
    assert.eq r20 true;
    assert.eq r19.is_some true;
    is.eq r19.val 20u32 into r21;
    assert.eq r21 true;
    get.or_use ids__len__[false] 0u32 into r22;
    lt r0 r22 into r23;
    assert.eq r23 true;
    set r1 into ids__[r0];
    get.or_use ids__len__[false] 0u32 into r24;
    lt r0 r24 into r25;
    get.or_use ids__[r0] 0u32 into r26;
    cast true r26 into r27 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r28 as Optional__EsDmm5O6sv6;
    ternary r25 r27.is_some r28.is_some into r29;
    ternary r25 r27.val r28.val into r30;
    cast r29 r30 into r31 as Optional__EsDmm5O6sv6;
    assert.eq r31.is_some true;
    get.or_use ids__[r0] 0u32 into r32;
    cast true r32 into r33 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r34 as Optional__EsDmm5O6sv6;
    ternary r25 r33.is_some r34.is_some into r35;
    ternary r25 r33.val r34.val into r36;
    cast r35 r36 into r37 as Optional__EsDmm5O6sv6;
    is.eq r37.val r1 into r38;
    assert.eq r38 true;
    get.or_use ids__len__[false] 0u32 into r39;
    lt 2u32 r39 into r40;
    assert.eq r40 true;
    get ids__[2u32] into r41;
    sub r39 1u32 into r42;
    get ids__[r42] into r43;
    set r43 into ids__[2u32];
    set r42 into ids__len__[false];
    is.eq r41 30u32 into r44;
    assert.eq r44 true;
    get.or_use ids__len__[false] 0u32 into r45;
    is.eq r45 2u32 into r46;
    assert.eq r46 true;
    get.or_use ids__len__[false] 0u32 into r47;
    gt r47 0u32 into r48;
    sub.w r47 1u32 into r49;
    ternary r48 r49 r47 into r50;
    set r50 into ids__len__[false];
    get.or_use ids__[r49] 0u32 into r51;
    cast true r51 into r52 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r53 as Optional__EsDmm5O6sv6;
    ternary r48 r52.is_some r53.is_some into r54;
    ternary r48 r52.val r53.val into r55;
    cast r54 r55 into r56 as Optional__EsDmm5O6sv6;
    assert.eq r56.is_some true;
    get.or_use ids__[r49] 0u32 into r57;
    cast true r57 into r58 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r59 as Optional__EsDmm5O6sv6;
    ternary r48 r58.is_some r59.is_some into r60;
    ternary r48 r58.val r59.val into r61;
    cast r60 r61 into r62 as Optional__EsDmm5O6sv6;
    is.eq r62.val r1 into r63;
    assert.eq r63 true;
    get.or_use ids__len__[false] 0u32 into r64;
    is.eq r64 1u32 into r65;
    assert.eq r65 true;
    set 0u32 into ids__len__[false];
    get.or_use ids__len__[false] 0u32 into r66;
    is.eq r66 0u32 into r67;
    assert.eq r67 true;

function test_vector_structs_behavior:
    input r0 as u32.private;
    async test_vector_structs_behavior r0 into r1;
    output r1 as vector_structs.aleo/test_vector_structs_behavior.future;

finalize test_vector_structs_behavior:
    input r0 as u32.public;
    get.or_use points__len__[false] 0u32 into r1;
    is.eq r1 0u32 into r2;
    assert.eq r2 true;
    get.or_use points__len__[false] 0u32 into r3;
    add r3 1u32 into r4;
    set r4 into points__len__[false];
    cast 1field 2field into r5 as Point;
    set r5 into points__[r3];
    get.or_use points__len__[false] 0u32 into r6;
    add r6 1u32 into r7;
    set r7 into points__len__[false];
    cast 3field 4field into r8 as Point;
    set r8 into points__[r6];
    get.or_use points__len__[false] 0u32 into r9;
    is.eq r9 2u32 into r10;
    assert.eq r10 true;
    get.or_use points__len__[false] 0u32 into r11;
    lt r0 r11 into r12;
    cast 0field 0field into r13 as Point;
    get.or_use points__[r0] r13 into r14;
    cast true r14 into r15 as Optional__6Uxqmb23WYh;
    cast 0field 0field into r16 as Point;
    cast false r16 into r17 as Optional__6Uxqmb23WYh;
    ternary r12 r15.val.x r17.val.x into r18;
    ternary r12 r15.val.y r17.val.y into r19;
    cast r18 r19 into r20 as Point;
    ternary r12 r15.is_some r17.is_some into r21;
    cast r21 r20 into r22 as Optional__6Uxqmb23WYh;
    assert.eq r22.is_some true;
    cast 0field 0field into r23 as Point;
    get.or_use points__[r0] r23 into r24;
    cast true r24 into r25 as Optional__6Uxqmb23WYh;
    cast 0field 0field into r26 as Point;
    cast false r26 into r27 as Optional__6Uxqmb23WYh;
    ternary r12 r25.val.x r27.val.x into r28;
    ternary r12 r25.val.y r27.val.y into r29;
    cast r28 r29 into r30 as Point;
    ternary r12 r25.is_some r27.is_some into r31;
    cast r31 r30 into r32 as Optional__6Uxqmb23WYh;
    add r32.val.x r32.val.y into r33;
    is.eq r33 3field into r34;
    add r32.val.x r32.val.y into r35;
    is.eq r35 7field into r36;
    or r34 r36 into r37;
    assert.eq r37 true;
    get.or_use points__len__[false] 0u32 into r38;
    lt r0 r38 into r39;
    assert.eq r39 true;
    cast 9field 9field into r40 as Point;
    set r40 into points__[r0];
    get.or_use points__len__[false] 0u32 into r41;
    lt r0 r41 into r42;
    cast 0field 0field into r43 as Point;
    get.or_use points__[r0] r43 into r44;
    cast true r44 into r45 as Optional__6Uxqmb23WYh;
    cast 0field 0field into r46 as Point;
    cast false r46 into r47 as Optional__6Uxqmb23WYh;
    ternary r42 r45.val.x r47.val.x into r48;
    ternary r42 r45.val.y r47.val.y into r49;
    cast r48 r49 into r50 as Point;
    ternary r42 r45.is_some r47.is_some into r51;
    cast r51 r50 into r52 as Optional__6Uxqmb23WYh;
    assert.eq r52.is_some true;
    cast 0field 0field into r53 as Point;
    get.or_use points__[r0] r53 into r54;
    cast true r54 into r55 as Optional__6Uxqmb23WYh;
    cast 0field 0field into r56 as Point;
    cast false r56 into r57 as Optional__6Uxqmb23WYh;
    ternary r42 r55.val.x r57.val.x into r58;
    ternary r42 r55.val.y r57.val.y into r59;
    cast r58 r59 into r60 as Point;
    ternary r42 r55.is_some r57.is_some into r61;
    cast r61 r60 into r62 as Optional__6Uxqmb23WYh;
    is.eq r62.val.x 9field into r63;
    assert.eq r63 true;
    is.eq r62.val.y 9field into r64;
    assert.eq r64 true;
    set 0u32 into points__len__[false];
    get.or_use points__len__[false] 0u32 into r65;
    is.eq r65 0u32 into r66;
    assert.eq r66 true;

function test_vector_containers_behavior:
    input r0 as u32.private;
    async test_vector_containers_behavior r0 into r1;
    output r1 as vector_structs.aleo/test_vector_containers_behavior.future;

finalize test_vector_containers_behavior:
    input r0 as u32.public;
    get.or_use containers__len__[false] 0u32 into r1;
    is.eq r1 0u32 into r2;
    assert.eq r2 true;
    cast 11field 22field into r3 as Point;
    cast 33field 44field into r4 as Point;
    cast r3 r4 into r5 as [Point; 2u32];
    cast 1u32 r5 into r6 as Container;
    cast 55field 66field into r7 as Point;
    cast 77field 88field into r8 as Point;
    cast r7 r8 into r9 as [Point; 2u32];
    cast 2u32 r9 into r10 as Container;
    get.or_use containers__len__[false] 0u32 into r11;
    add r11 1u32 into r12;
    set r12 into containers__len__[false];
    set r6 into containers__[r11];
    get.or_use containers__len__[false] 0u32 into r13;
    add r13 1u32 into r14;
    set r14 into containers__len__[false];
    set r10 into containers__[r13];
    get.or_use containers__len__[false] 0u32 into r15;
    is.eq r15 2u32 into r16;
    assert.eq r16 true;
    get.or_use containers__len__[false] 0u32 into r17;
    lt r0 r17 into r18;
    cast 0field 0field into r19 as Point;
    cast r19 r19 into r20 as [Point; 2u32];
    cast 0u32 r20 into r21 as Container;
    get.or_use containers__[r0] r21 into r22;
    cast true r22 into r23 as Optional__Iw7fQz4CKJ0;
    cast 0field 0field into r24 as Point;
    cast r24 r24 into r25 as [Point; 2u32];
    cast 0u32 r25 into r26 as Container;
    cast false r26 into r27 as Optional__Iw7fQz4CKJ0;
    ternary r18 r23.val.points[0u32].x r27.val.points[0u32].x into r28;
    ternary r18 r23.val.points[0u32].y r27.val.points[0u32].y into r29;
    cast r28 r29 into r30 as Point;
    ternary r18 r23.val.points[1u32].x r27.val.points[1u32].x into r31;
    ternary r18 r23.val.points[1u32].y r27.val.points[1u32].y into r32;
    cast r31 r32 into r33 as Point;
    cast r30 r33 into r34 as [Point; 2u32];
    ternary r18 r23.val.id r27.val.id into r35;
    cast r35 r34 into r36 as Container;
    ternary r18 r23.is_some r27.is_some into r37;
    cast r37 r36 into r38 as Optional__Iw7fQz4CKJ0;
    assert.eq r38.is_some true;
    cast 0field 0field into r39 as Point;
    cast r39 r39 into r40 as [Point; 2u32];
    cast 0u32 r40 into r41 as Container;
    get.or_use containers__[r0] r41 into r42;
    cast true r42 into r43 as Optional__Iw7fQz4CKJ0;
    cast 0field 0field into r44 as Point;
    cast r44 r44 into r45 as [Point; 2u32];
    cast 0u32 r45 into r46 as Container;
    cast false r46 into r47 as Optional__Iw7fQz4CKJ0;
    ternary r18 r43.val.points[0u32].x r47.val.points[0u32].x into r48;
    ternary r18 r43.val.points[0u32].y r47.val.points[0u32].y into r49;
    cast r48 r49 into r50 as Point;
    ternary r18 r43.val.points[1u32].x r47.val.points[1u32].x into r51;
    ternary r18 r43.val.points[1u32].y r47.val.points[1u32].y into r52;
    cast r51 r52 into r53 as Point;
    cast r50 r53 into r54 as [Point; 2u32];
    ternary r18 r43.val.id r47.val.id into r55;
    cast r55 r54 into r56 as Container;
    ternary r18 r43.is_some r47.is_some into r57;
    cast r57 r56 into r58 as Optional__Iw7fQz4CKJ0;
    is.eq r58.val.id 1u32 into r59;
    is.eq r58.val.id 2u32 into r60;
    or r59 r60 into r61;
    assert.eq r61 true;
    get.or_use containers__len__[false] 0u32 into r62;
    lt r0 r62 into r63;
    assert.eq r63 true;
    cast 999field 999field into r64 as Point;
    cast 33field 33field into r65 as Point;
    cast r64 r65 into r66 as [Point; 2u32];
    cast 99u32 r66 into r67 as Container;
    set r67 into containers__[r0];
    get.or_use containers__len__[false] 0u32 into r68;
    lt r0 r68 into r69;
    cast 0field 0field into r70 as Point;
    cast r70 r70 into r71 as [Point; 2u32];
    cast 0u32 r71 into r72 as Container;
    get.or_use containers__[r0] r72 into r73;
    cast true r73 into r74 as Optional__Iw7fQz4CKJ0;
    cast 0field 0field into r75 as Point;
    cast r75 r75 into r76 as [Point; 2u32];
    cast 0u32 r76 into r77 as Container;
    cast false r77 into r78 as Optional__Iw7fQz4CKJ0;
    ternary r69 r74.val.points[0u32].x r78.val.points[0u32].x into r79;
    ternary r69 r74.val.points[0u32].y r78.val.points[0u32].y into r80;
    cast r79 r80 into r81 as Point;
    ternary r69 r74.val.points[1u32].x r78.val.points[1u32].x into r82;
    ternary r69 r74.val.points[1u32].y r78.val.points[1u32].y into r83;
    cast r82 r83 into r84 as Point;
    cast r81 r84 into r85 as [Point; 2u32];
    ternary r69 r74.val.id r78.val.id into r86;
    cast r86 r85 into r87 as Container;
    ternary r69 r74.is_some r78.is_some into r88;
    cast r88 r87 into r89 as Optional__Iw7fQz4CKJ0;
    assert.eq r89.is_some true;
    cast 0field 0field into r90 as Point;
    cast r90 r90 into r91 as [Point; 2u32];
    cast 0u32 r91 into r92 as Container;
    get.or_use containers__[r0] r92 into r93;
    cast true r93 into r94 as Optional__Iw7fQz4CKJ0;
    cast 0field 0field into r95 as Point;
    cast r95 r95 into r96 as [Point; 2u32];
    cast 0u32 r96 into r97 as Container;
    cast false r97 into r98 as Optional__Iw7fQz4CKJ0;
    ternary r69 r94.val.points[0u32].x r98.val.points[0u32].x into r99;
    ternary r69 r94.val.points[0u32].y r98.val.points[0u32].y into r100;
    cast r99 r100 into r101 as Point;
    ternary r69 r94.val.points[1u32].x r98.val.points[1u32].x into r102;
    ternary r69 r94.val.points[1u32].y r98.val.points[1u32].y into r103;
    cast r102 r103 into r104 as Point;
    cast r101 r104 into r105 as [Point; 2u32];
    ternary r69 r94.val.id r98.val.id into r106;
    cast r106 r105 into r107 as Container;
    ternary r69 r94.is_some r98.is_some into r108;
    cast r108 r107 into r109 as Optional__Iw7fQz4CKJ0;
    is.eq r109.val.id 99u32 into r110;
    assert.eq r110 true;
    is.eq r109.val.points[0u32].x 999field into r111;
    assert.eq r111 true;
    set 0u32 into containers__len__[false];
    get.or_use containers__len__[false] 0u32 into r112;
    is.eq r112 0u32 into r113;
    assert.eq r113 true;

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1c7pcaqwdydrp5re5gqsy4r50043savrstqwndmlekjdlfrmdhyzs9a7dpm",
      "program": "vector_structs.aleo",
      "function": "test_vector_primitives_behavior",
      "inputs": [
        {
          "type": "private",
          "id": "5852206278757247955567185688995490731094595502602706197923395395686775975077field",
          "value": "ciphertext1qyqqwc72mgt7zq3dfjwkadxxevxg7yu3qxecaqdul75zrfw634lhjrq5jny0m"
        },
        {
          "type": "private",
          "id": "805141962083512958997719928157316087078175642289369069670211093585311578710field",
          "value": "ciphertext1qyq0v2f2ueh7d9sw3qnrmkxcm55850j3pdzkw6evakslysmt0x7u6pq2w4gtp"
        }
      ],
      "outputs": [
        {
          "type": "future",
          "id": "1346687637447732924371405587002975488123261593421903767383196364703707802291field",
          "value": "{\n  program_id: vector_structs.aleo,\n  function_name: test_vector_primitives_behavior,\n  arguments: [\n    1u32,\n    25u32\n  ]\n}"
        }
      ],
      "tpk": "4325020224465758641520401598240299553124287099346104334521547223039735784337group",
      "tcm": "3693494123809887159890076402421748215328803214604135605369352884207804712230field",
      "scm": "6118091813699558155705569970645220095016527493104810729650285635730864767800field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au134948km4qlq259sx4md267m6lfzlrl23guy2gz4kuwt3yedk8qpsancvfq",
      "program": "vector_structs.aleo",
      "function": "test_vector_structs_behavior",
      "inputs": [
        {
          "type": "private",
          "id": "8411731303712171967837633010946312425053426210886140282904684625289365961676field",
          "value": "ciphertext1qyqg8y03stdg4jhjcu0u3yvsj5dnyjyxfujukxpcnhwz8cs0uvr8ursgc4lkz"
        }
      ],
      "outputs": [
        {
          "type": "future",
          "id": "7214476081613359001511882666164825314198828249344776352296864634487284712706field",
          "value": "{\n  program_id: vector_structs.aleo,\n  function_name: test_vector_structs_behavior,\n  arguments: [\n    0u32\n  ]\n}"
        }
      ],
      "tpk": "6704586324991287162061839208860838526299553191768052197022292078733352317080group",
      "tcm": "2624969807033224196607119837866970426864722647859650162973156385171645109919field",
      "scm": "5085519633566315505427488233109518387896172625019850855025132331133847750015field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1mv2ln65zgd3vh96unj86zdr7atj28ehxmqpkql37n7l39a5zgyyqu08fzq",
      "program": "vector_structs.aleo",
      "function": "test_vector_containers_behavior",
      "inputs": [
        {
          "type": "private",
          "id": "2803310931242076951315430194766335226515580571856109251246488700152323633812field",
          "value": "ciphertext1qyq2rle494s60457tjvd8nz29pk8vxajzrenhlmeec9mm6ev30sf5pceqfya6"
        }
      ],
      "outputs": [
        {
          "type": "future",
          "id": "1837512951192055755827208900806714012108631860706636331818949270626394465669field",
          "value": "{\n  program_id: vector_structs.aleo,\n  function_name: test_vector_containers_behavior,\n  arguments: [\n    1u32\n  ]\n}"
        }
      ],
      "tpk": "6774734455450924766258026888265746191293924261403855193817956876924531114382group",
      "tcm": "7598377704234236820670578887972404758313489156537304593264197576965652268054field",
      "scm": "3215446282784629867329701707839425246309035089022013530537292876240944364102field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


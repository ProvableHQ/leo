program test.aleo;

mapping counter:
    key as address.public;
    value as u64.public;

function dubble:
    async dubble self.caller into r0;
    output r0 as test.aleo/dubble.future;

finalize dubble:
    input r0 as address.public;
    get.or_use counter[r0] 235u64 into r1;
    add r1 1u64 into r2;
    set r2 into counter[r0];
    get counter[r0] into r3;
    add r3 1u64 into r4;
    set r4 into counter[r0];
    get counter[r0] into r5;
    add r3 1u64 into r6;
    is.eq r5 r6 into r7;
    assert.eq r7 true;

function unsafe_increment:
    async unsafe_increment self.caller into r0;
    output r0 as test.aleo/unsafe_increment.future;

finalize unsafe_increment:
    input r0 as address.public;
    get counter[r0] into r1;
    add r1 1u64 into r2;
    add r2 1u64 into r3;
    add r3 1u64 into r4;
    add r4 1u64 into r5;
    add r5 1u64 into r6;
    add r6 1u64 into r7;
    add r7 1u64 into r8;
    add r8 1u64 into r9;
    add r9 1u64 into r10;
    add r10 1u64 into r11;
    set r11 into counter[r0];

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1lsp3suydspkk25ysu93xxdss2nt7ju9erwj48l3vvshsdj6yyg9symal22",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "6044183398018264225554704829504639715656576050991961292837370834561099123563field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "8115166023635994414651464534919502623746585704615890289534620735210068320840group",
      "tcm": "8155671437552048123637668714994725588316324326911869656397142803049616088346field",
      "scm": "6542499952150145489268714003273427331254311009050611589028954572971720836964field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1e7x4cfevp7q0q24an2n2cwhzhtj60xlew9gfuphqedw3rx7hksqq848xe5",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "2940002043526048670904688032616036698186184725876880193008725891979811315737field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "4886642413852463440263443591063772072078872904223311909621805702308488011556group",
      "tcm": "3582875453302793212449931651749887952167797376085994490827208375903779535694field",
      "scm": "3463403590092314012928013538293586697406691682022420643515611314466222475977field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1y7clejgaadyhda6mr0f0dmy98r3kurh6qxusk2l55c9d0fa2qv8q3dy7eq",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "857998157711458681098298751108416012605292706984388133596033556236903655185field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "2252071503513010847387479383917260863851162936110535465671966804279456486031group",
      "tcm": "482496011476743569503460160897878176355692056385590616450125955154009647251field",
      "scm": "1270745755751209256065049034877136397180223531547700278632219516232942107687field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1yzgt5pgay6j6m5fltla2hr5jlhc5rpnqnejwrmlr6lakrajwccpsr8nuz5",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "3074470177530724725834729088998679590627678300608336144047506796175103420045field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "2739400818780615400248091676943128152045189054619610988982234769244663315003group",
      "tcm": "6847874717438058031700743086650806096626194363031384770246193403400655644758field",
      "scm": "5124057838306836605967960134148251257071111484060007948832041177746344121810field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


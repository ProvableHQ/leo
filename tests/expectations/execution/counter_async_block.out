program test.aleo;

mapping counter:
    key as address.public;
    value as u64.public;

function dubble:
    async dubble self.caller into r0;
    output r0 as test.aleo/dubble.future;

finalize dubble:
    input r0 as address.public;
    get.or_use counter[r0] 235u64 into r1;
    add r1 1u64 into r2;
    set r2 into counter[r0];
    get counter[r0] into r3;
    add r3 1u64 into r4;
    set r4 into counter[r0];
    get counter[r0] into r5;
    is.eq r5 r4 into r6;
    assert.eq r6 true;

function unsafe_increment:
    async unsafe_increment self.caller into r0;
    output r0 as test.aleo/unsafe_increment.future;

finalize unsafe_increment:
    input r0 as address.public;
    get counter[r0] into r1;
    add r1 1u64 into r2;
    add r2 1u64 into r3;
    add r3 1u64 into r4;
    add r4 1u64 into r5;
    add r5 1u64 into r6;
    add r6 1u64 into r7;
    add r7 1u64 into r8;
    add r8 1u64 into r9;
    add r9 1u64 into r10;
    add r10 1u64 into r11;
    set r11 into counter[r0];

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1lrn5mu86wzrwqgmpfvk89k47rkehtp2f3vamqgwwmrvz5guz7s8qnd3w6c",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "4699002505616774710150113522851534941479463253233984646704309032947182186747field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "2792598392872113523769625442726729417421328914138543245439106255595108589581group",
      "tcm": "7535494565811075966069535028531130763266967652806164109327127925118110971448field",
      "scm": "2280325585512955590354995762895462889624737245155815941037937959226874721339field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1jx77uc723vp6aefempxl2fc3uj82mjuyr3c4mfafc85p9jt0258sul93pn",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "8374514317003510045092522537291172262654042840842838968112376536439071137479field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "6858282760624248315688685859293604316744971700963358390391143014204400559486group",
      "tcm": "4072767433895132031043793649565806463051708044084354598291553470528150816040field",
      "scm": "4158913525956673238546573618688690350310542110558187551585187411693494877293field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1r7ymctudgl2jnhntqqgjgxhsn4dpyl6xse4xufpml5s8z82a2uyqdyrc9t",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5601543047077715320546324590889023601977489904480638760859112189066445918038field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "4784127387897228863046256412153814664862169047044881108571360715991276312169group",
      "tcm": "6895133970021186256172032173461456589078550831435227011885900798677017404397field",
      "scm": "2104863141375941461882484139073697338747271071309724125164608803227781692795field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au19fej3rzr46k0w9hetnutkdeaat6x0ashh3lzqh7szr8h7a8h2yyqrczl78",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5499266725392543461373695941410541255829777923399350651246559754407864876625field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "2593879024460517254608594790279943589476574571711491197101777026392059836865group",
      "tcm": "4333697267146970140501886841363856939383976317721568244953188117698148736096field",
      "scm": "7477878274588591722573531339897537341869245783008472316458024771123249173215field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


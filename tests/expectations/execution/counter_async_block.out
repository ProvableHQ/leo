program test.aleo;

mapping counter:
    key as address.public;
    value as u64.public;

function dubble:
    async dubble self.caller into r0;
    output r0 as test.aleo/dubble.future;

finalize dubble:
    input r0 as address.public;
    get.or_use counter[r0] 235u64 into r1;
    add r1 1u64 into r2;
    set r2 into counter[r0];
    get counter[r0] into r3;
    add r3 1u64 into r4;
    set r4 into counter[r0];
    get counter[r0] into r5;
    is.eq r5 r4 into r6;
    assert.eq r6 true;

function unsafe_increment:
    async unsafe_increment self.caller into r0;
    output r0 as test.aleo/unsafe_increment.future;

finalize unsafe_increment:
    input r0 as address.public;
    get counter[r0] into r1;
    add r1 1u64 into r2;
    add r2 1u64 into r3;
    add r3 1u64 into r4;
    add r4 1u64 into r5;
    add r5 1u64 into r6;
    add r6 1u64 into r7;
    add r7 1u64 into r8;
    add r8 1u64 into r9;
    add r9 1u64 into r10;
    add r10 1u64 into r11;
    set r11 into counter[r0];

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1r5czzdq3nhnsttkhz357d8uj2ffjrfhprtyqaycc5jm4xpgy0sqq3utypp",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5118730319135131997821727634861422144480001186397402402674939806582973002201field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "5402202224437352775433363512030432693601922302238299720357456830085188737550group",
      "tcm": "6880282190243305281300837279087543637626264442657130186366485807857719623149field",
      "scm": "2552021663088348017896604241727227144362021444160753964043564273144048640766field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1nta4cef3drzeeflcve2344frgg6w5t9gdkjh8s5z2f8tfnllhgpqdqhwn6",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "836498614991994520137468282688137249747263008728385449725335919642557213676field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "4559466790214384337295889313670366933930796565172760699072713481313390882023group",
      "tcm": "2005047894910537790034754550798037202467700293372253220348715095395693195543field",
      "scm": "8253491984065448643593307219125973327021426518396000992219635145604081121544field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1h83a6cr0srmwv0lwvgrlqkkjfx2t9nltvq4h7ep6zm4v8a6yucgst28r2f",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5759675136673153615198806298919683321625089389425620708203215073773518093684field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "4834904750517949723171962089289534792472505185569944804382298781501511777967group",
      "tcm": "5882162348482589003672836655802658917775654874715413182177257614077179292505field",
      "scm": "1602831726339363414466238745927435555831879273337854644688711434059350428428field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1mnhcdfkf84er5kp7qzqmvuzn96xmdg9k8an63y0yy3hs8rfhfqrqy4g8pl",
      "program": "test.aleo",
      "function": "dubble",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5952910598792477854845109067598162685853069716613759559600459866066964280675field",
          "value": "{\n  program_id: test.aleo,\n  function_name: dubble,\n  arguments: [\n    aleo17z49cl3wfpjdyu5juxaxnuttag24ygz36pg8ln2qmlcsw4w8cs9s3f45uq\n  ]\n}"
        }
      ],
      "tpk": "5880567761842318247783237289435157716027037177589822179941002993944725908359group",
      "tcm": "5552586675916373353432774577037146621765131688601107753189783282644426890117field",
      "scm": "4358642816540952932351547916275677025248657543906203338742489820450963112828field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


program test.aleo;

struct Optional__EsDmm5O6sv6:
    is_some as boolean;
    val as u32;

mapping counter__:
    key as boolean.public;
    value as u32.public;

function initialize:
    async initialize into r0;
    output r0 as test.aleo/initialize.future;

finalize initialize:
    set 0u32 into counter__[false];

function increment:
    async increment into r0;
    output r0 as test.aleo/increment.future;

finalize increment:
    contains counter__[false] into r0;
    get.or_use counter__[false] 0u32 into r1;
    cast true r1 into r2 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r3 as Optional__EsDmm5O6sv6;
    ternary r0 r2.is_some r3.is_some into r4;
    ternary r0 r2.val r3.val into r5;
    cast r4 r5 into r6 as Optional__EsDmm5O6sv6;
    contains counter__[false] into r7;
    get.or_use counter__[false] 0u32 into r8;
    cast true r8 into r9 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r10 as Optional__EsDmm5O6sv6;
    ternary r7 r9.is_some r10.is_some into r11;
    ternary r7 r9.val r10.val into r12;
    cast r11 r12 into r13 as Optional__EsDmm5O6sv6;
    ternary r6.is_some r13.val 0u32 into r14;
    add r14 1u32 into r15;
    set r15 into counter__[false];
    contains counter__[false] into r16;
    get.or_use counter__[false] 0u32 into r17;
    cast true r17 into r18 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r19 as Optional__EsDmm5O6sv6;
    ternary r16 r18.is_some r19.is_some into r20;
    ternary r16 r18.val r19.val into r21;
    cast r20 r21 into r22 as Optional__EsDmm5O6sv6;
    assert.eq r22.is_some true;
    contains counter__[false] into r23;
    get.or_use counter__[false] 0u32 into r24;
    cast true r24 into r25 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r26 as Optional__EsDmm5O6sv6;
    ternary r23 r25.is_some r26.is_some into r27;
    ternary r23 r25.val r26.val into r28;
    cast r27 r28 into r29 as Optional__EsDmm5O6sv6;
    is.eq r29.val r15 into r30;
    assert.eq r30 true;

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au14ydhznv9tj5kaar4fgd42cx2tfqsgjtu086hprlu6lr5ek26jvxsrwp5wc",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "7448728248354918599861769856490153976246313645701888250100548830100594353815field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "5402202224437352775433363512030432693601922302238299720357456830085188737550group",
      "tcm": "6880282190243305281300837279087543637626264442657130186366485807857719623149field",
      "scm": "2552021663088348017896604241727227144362021444160753964043564273144048640766field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1lg0de20kf570nqa262ha8nrhpchld2wkc0vgze706nsgc37kvgpsxtzpzz",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "4736948063108337332129443464618324107241577937603058160641576783965365396352field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "4559466790214384337295889313670366933930796565172760699072713481313390882023group",
      "tcm": "2005047894910537790034754550798037202467700293372253220348715095395693195543field",
      "scm": "8253491984065448643593307219125973327021426518396000992219635145604081121544field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1qnev9epklgzg8h34qmfazrlfdk3ypupsyya3t6udfg4nzf6uwg9q3tw0kj",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "6889410058655189869547815457591994589138155393837733363726026022698121037239field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "4834904750517949723171962089289534792472505185569944804382298781501511777967group",
      "tcm": "5882162348482589003672836655802658917775654874715413182177257614077179292505field",
      "scm": "1602831726339363414466238745927435555831879273337854644688711434059350428428field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au14umnyqnm00wnw2n2gzp628ptnsu06ay5qpj4rmzf2mgjafwu6crqd0kcru",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "7354662240354272561446264704130694121755790772483797426978494134829025645408field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "5880567761842318247783237289435157716027037177589822179941002993944725908359group",
      "tcm": "5552586675916373353432774577037146621765131688601107753189783282644426890117field",
      "scm": "4358642816540952932351547916275677025248657543906203338742489820450963112828field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


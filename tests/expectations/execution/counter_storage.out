program test.aleo;

struct Optional__EsDmm5O6sv6:
    is_some as boolean;
    val as u32;

mapping counter__:
    key as boolean.public;
    value as u32.public;

function initialize:
    async initialize into r0;
    output r0 as test.aleo/initialize.future;

finalize initialize:
    set 0u32 into counter__[false];

function increment:
    async increment into r0;
    output r0 as test.aleo/increment.future;

finalize increment:
    contains counter__[false] into r0;
    get.or_use counter__[false] 0u32 into r1;
    cast true r1 into r2 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r3 as Optional__EsDmm5O6sv6;
    ternary r0 r2.is_some r3.is_some into r4;
    ternary r0 r2.val r3.val into r5;
    cast r4 r5 into r6 as Optional__EsDmm5O6sv6;
    contains counter__[false] into r7;
    get.or_use counter__[false] 0u32 into r8;
    cast true r8 into r9 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r10 as Optional__EsDmm5O6sv6;
    ternary r7 r9.is_some r10.is_some into r11;
    ternary r7 r9.val r10.val into r12;
    cast r11 r12 into r13 as Optional__EsDmm5O6sv6;
    ternary r6.is_some r13.val 0u32 into r14;
    add r14 1u32 into r15;
    set r15 into counter__[false];
    contains counter__[false] into r16;
    get.or_use counter__[false] 0u32 into r17;
    cast true r17 into r18 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r19 as Optional__EsDmm5O6sv6;
    ternary r16 r18.is_some r19.is_some into r20;
    ternary r16 r18.val r19.val into r21;
    cast r20 r21 into r22 as Optional__EsDmm5O6sv6;
    assert.eq r22.is_some true;
    contains counter__[false] into r23;
    get.or_use counter__[false] 0u32 into r24;
    cast true r24 into r25 as Optional__EsDmm5O6sv6;
    cast false 0u32 into r26 as Optional__EsDmm5O6sv6;
    ternary r23 r25.is_some r26.is_some into r27;
    ternary r23 r25.val r26.val into r28;
    cast r27 r28 into r29 as Optional__EsDmm5O6sv6;
    is.eq r29.val r15 into r30;
    assert.eq r30 true;

constructor:
    assert.eq edition 0u16;
verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1jm8tmpa4drnk7yzam33mur2cp4v0zvm0jljrkccjnh7rs4vhwuqs3uuj92",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "585600305573735114412352298961868206040347615246903590516439057979983329053field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "8115166023635994414651464534919502623746585704615890289534620735210068320840group",
      "tcm": "8155671437552048123637668714994725588316324326911869656397142803049616088346field",
      "scm": "6542499952150145489268714003273427331254311009050611589028954572971720836964field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1emzn02mvvnlu978f3ps6femk9zk0uxthurqk35tc76h5ukvwfuqsepc58t",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "5476949734925523065845188754767709051223425746298574514657428973952077806366field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "4886642413852463440263443591063772072078872904223311909621805702308488011556group",
      "tcm": "3582875453302793212449931651749887952167797376085994490827208375903779535694field",
      "scm": "3463403590092314012928013538293586697406691682022420643515611314466222475977field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au15xckfhutm2vwp6p3ap3ap4f9mjsch305z78846zh2w3t8f9gr5ys3nkgzu",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "1180835481721422964593594537946244608146695581998396659802404579929206530224field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "2252071503513010847387479383917260863851162936110535465671966804279456486031group",
      "tcm": "482496011476743569503460160897878176355692056385590616450125955154009647251field",
      "scm": "1270745755751209256065049034877136397180223531547700278632219516232942107687field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}

verified: true
status: accepted
{
  "transitions": [
    {
      "id": "au1cgc24sgnxlv28af975jhg2dhxke2jye4h0pxxke2psartxc5qq9qd34cnl",
      "program": "test.aleo",
      "function": "increment",
      "inputs": [],
      "outputs": [
        {
          "type": "future",
          "id": "6317836432041936976615624107721416123785970738819751416290895407100731903207field",
          "value": "{\n  program_id: test.aleo,\n  function_name: increment,\n  arguments: []\n}"
        }
      ],
      "tpk": "2739400818780615400248091676943128152045189054619610988982234769244663315003group",
      "tcm": "6847874717438058031700743086650806096626194363031384770246193403400655644758field",
      "scm": "5124057838306836605967960134148251257071111484060007948832041177746344121810field"
    }
  ],
  "global_state_root": "sr1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gk0xu"
}


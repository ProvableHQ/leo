<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The source map provides an address space for positions in spans that is global across the source files that are compiled together. The source files are organized in a sequence, with the positions of each source following the ones of the previous source in the address space of positions (except for the first source, which starts at the beginning of the address space). This way, any place in any source is identified by a single position within the address space covered by the sequence of sources; the source file is determined from the position."><title>leo_span::source_map - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="leo_span" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.1 (3f5fd8dd4 2024-08-06)" data-channel="1.80.1" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../leo_span/index.html">leo_span</a><span class="version">2.1.0</span></h2></div><h2 class="location"><a href="#">Module source_map</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate leo_span</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">leo_span</a>::<wbr><a class="mod" href="#">source_map</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/leo_span/source_map.rs.html#17-447">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The source map provides an address space for positions in spans
that is global across the source files that are compiled together.
The source files are organized in a sequence,
with the positions of each source following the ones of the previous source
in the address space of positions
(except for the first source, which starts at the beginning of the address space).
This way, any place in any source is identified by a single position
within the address space covered by the sequence of sources;
the source file is determined from the position.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.LineCol.html" title="struct leo_span::source_map::LineCol">LineCol</a></div><div class="desc docblock-short">File / Line / Column information on a <code>BytePos</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.MultiByteChar.html" title="struct leo_span::source_map::MultiByteChar">MultiByteChar</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Identifies an offset of a multi-byte character in a <code>SourceFile</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.SourceFile.html" title="struct leo_span::source_map::SourceFile">SourceFile</a></div><div class="desc docblock-short">A single source in the <a href="struct.SourceMap.html" title="struct leo_span::source_map::SourceMap"><code>SourceMap</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.SourceMap.html" title="struct leo_span::source_map::SourceMap">SourceMap</a></div><div class="desc docblock-short">The source map containing all recorded sources,
methods to register new ones,
and methods to query about spans in relation to recorded sources.</div></li><li><div class="item-name"><a class="struct" href="struct.SourceMapInner.html" title="struct leo_span::source_map::SourceMapInner">SourceMapInner</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Actual data of the source map.
We use this setup for purposes of interior mutability.</div></li><li><div class="item-name"><a class="struct" href="struct.SpanLocation.html" title="struct leo_span::source_map::SpanLocation">SpanLocation</a></div><div class="desc docblock-short">Detailed information on a <code>Span</code>.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.FileName.html" title="enum leo_span::source_map::FileName">FileName</a></div><div class="desc docblock-short">A file name.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.analyze_source_file.html" title="fn leo_span::source_map::analyze_source_file">analyze_source_file</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Finds all newlines, multi-byte characters, and non-narrow characters in a
SourceFile.</div></li><li><div class="item-name"><a class="fn" href="fn.is_not_test_framework.html" title="fn leo_span::source_map::is_not_test_framework">is_not_test_framework</a></div><div class="desc docblock-short">Is the env var <code>LEO_TESTFRAMEWORK</code> not enabled?</div></li><li><div class="item-name"><a class="fn" href="fn.normalize_newlines.html" title="fn leo_span::source_map::normalize_newlines">normalize_newlines</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Replaces <code>\r\n</code> with <code>\n</code> in-place in <code>src</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.normalize_src.html" title="fn leo_span::source_map::normalize_src">normalize_src</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Normalizes the source code and records the normalizations.</div></li><li><div class="item-name"><a class="fn" href="fn.remove_bom.html" title="fn leo_span::source_map::remove_bom">remove_bom</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Removes UTF-8 BOM, if any.</div></li></ul></section></div></main></body></html>